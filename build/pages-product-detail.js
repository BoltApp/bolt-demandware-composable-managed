"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[7],{2627:(e,t,r)=>{r.r(t),r.d(t,{default:()=>C});var n=r(4572),o=r(5861),a=r(7294),l=r(5697),i=r.n(l),c=r(4593),d=r(6896),u=r(5193),s=r(8527),p=r(604),m=r(2533),g=r(7736),f=r(6933),y=r(3269),E=(r(9490),r(4324)),h=r(7319);const v=({product:e})=>{const{formatMessage:t}=(0,d.Z)();return a.createElement(s.Kq,{direction:"row",spacing:[0,0,0,16]},a.createElement(h.UQ,{allowMultiple:!0,allowToggle:!0,maxWidth:"896px",flex:[1,1,1,5]},a.createElement(h.Qd,null,a.createElement("h2",null,a.createElement(h.KF,{height:"64px"},a.createElement(s.xu,{flex:"1",textAlign:"left",fontWeight:"bold",fontSize:"lg"},t({defaultMessage:[{type:0,value:"Product Detail"}],id:"product_detail.accordion.button.product_detail"})),a.createElement(h.XE,null))),a.createElement(h.Hk,{mb:6,mt:4},a.createElement("div",{dangerouslySetInnerHTML:{__html:null==e?void 0:e.longDescription}}))),a.createElement(h.Qd,null,a.createElement("h2",null,a.createElement(h.KF,{height:"64px"},a.createElement(s.xu,{flex:"1",textAlign:"left",fontWeight:"bold",fontSize:"lg"},t({defaultMessage:[{type:0,value:"Size & Fit"}],id:"product_detail.accordion.button.size_fit"})),a.createElement(h.XE,null))),a.createElement(h.Hk,{mb:6,mt:4},t({defaultMessage:[{type:0,value:"Coming Soon"}],id:"product_detail.accordion.message.coming_soon"}))),a.createElement(h.Qd,null,a.createElement("h2",null,a.createElement(h.KF,{height:"64px"},a.createElement(s.xu,{flex:"1",textAlign:"left",fontWeight:"bold",fontSize:"lg"},t({defaultMessage:[{type:0,value:"Reviews"}],id:"product_detail.accordion.button.reviews"})),a.createElement(h.XE,null))),a.createElement(h.Hk,{mb:6,mt:4},t({defaultMessage:[{type:0,value:"Coming Soon"}],id:"product_detail.accordion.message.coming_soon"}))),a.createElement(h.Qd,null,a.createElement("h2",null,a.createElement(h.KF,{height:"64px"},a.createElement(s.xu,{flex:"1",textAlign:"left",fontWeight:"bold",fontSize:"lg"},t({defaultMessage:[{type:0,value:"Questions"}],id:"product_detail.accordion.button.questions"})),a.createElement(h.XE,null))),a.createElement(h.Hk,{mb:6,mt:4},t({defaultMessage:[{type:0,value:"Coming Soon"}],id:"product_detail.accordion.message.coming_soon"})))),a.createElement(s.xu,{display:["none","none","none","block"],flex:4}))};v.propTypes={product:i().object};const b=v;var P=r(472),O=r(3162),x=r(4728),_=r(6550),w=r(4813);function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const j=({category:e,product:t,isLoading:r})=>{const{formatMessage:n}=(0,d.Z)(),l=(0,p.Z)(),i=(0,_.k6)(),h=(0,y.Z)(),v=(0,m.c1)(t),P=(0,w.p)(),L=(0,f.Z)(),[j,C]=(0,a.useState)(e),[T,I]=(0,a.useState)({}),k=a.useRef({}),D=null==t?void 0:t.type.set;(0,a.useEffect)((()=>{e&&C(e)}),[e]),(0,a.useEffect)((()=>{const e=(0,x.DE)(`${location.pathname}${location.search}`,{pid:null==v?void 0:v.productId});i.replace(e)}),[v]);const Z=(0,g.Z)(),q=function(){var e=(0,o.Z)((function*(e,t,r){try{yield Z.createListItem({id:(null==t?void 0:t.productId)||(null==e?void 0:e.id),quantity:r}),P({title:n(O.Zy,{quantity:1}),status:"success",action:a.createElement(u.zx,{variant:"link",onClick:()=>L("/account/wishlist")},n(O.GN))})}catch{P({title:n(O.oj),status:"error"})}}));return function(t,r,n){return e.apply(this,arguments)}}(),M=(0,w.p)(),z=function(){var e=(0,o.Z)((function*(e){try{const t=e.map((({variant:e,quantity:t})=>({productId:e.productId,price:e.price,quantity:t})));return yield l.addItemToBasket(t),e}catch(e){M({title:n(O.oj),status:"error"})}}));return function(t){return e.apply(this,arguments)}}(),A=(0,a.useCallback)((()=>{Object.values(k.current).forEach((({validateOrderability:e})=>{e({scrollErrorIntoView:!1})}));const e=Object.keys(T),r=t.setProducts.find((({id:t})=>!e.includes(t)));if(r){const{ref:e}=k.current[r.id];return e.scrollIntoView&&e.scrollIntoView({behavior:"smooth",block:"end"}),!1}return!0}),[t,T]);return(0,a.useEffect)((()=>{t&&t.type.set?(h.sendViewProduct(t),t.setProducts.map((e=>{h.sendViewProduct(e)}))):t&&h.sendViewProduct(t)}),[t]),a.createElement(s.xu,{className:"sf-product-detail-page",layerStyle:"page","data-testid":"product-details-page"},a.createElement(c.q,null,a.createElement("title",null,null==t?void 0:t.pageTitle),a.createElement("meta",{name:"description",content:null==t?void 0:t.pageDescription})),a.createElement(s.Kq,{spacing:16},D?a.createElement(a.Fragment,null,a.createElement(E.Z,{product:t,category:(null==j?void 0:j.parentCategoryTree)||[],addToCart:()=>{const e=Object.values(T);return z(e)},addToWishlist:(e,t,r)=>q(e,t,r),isProductLoading:r,isCustomerProductListLoading:!Z.isInitialized,validateOrderability:A}),a.createElement("hr",null),t.setProducts.map((e=>a.createElement(s.xu,{key:e.id,"data-testid":"child-product"},a.createElement(E.Z,{ref:function(t){k.current[e.id]={ref:t,validateOrderability:this.validateOrderability}},product:e,isProductPartOfSet:!0,addToCart:(t,r)=>z([{product:e,variant:t,quantity:r}]),addToWishlist:(e,t,r)=>q(e,t,r),onVariantSelected:(e,t,r)=>{if(r)I((n=>S(S({},n),{},{[e.id]:{product:e,variant:t,quantity:r}})));else{const t=S({},T);delete t[e.id],I(t)}},isProductLoading:r,isCustomerProductListLoading:!Z.isInitialized}),a.createElement(b,{product:e}),a.createElement(s.xu,{display:["none","none","none","block"]},a.createElement("hr",null)))))):a.createElement(a.Fragment,null,a.createElement(E.Z,{product:t,category:(null==j?void 0:j.parentCategoryTree)||[],addToCart:(e,r)=>z([{product:t,variant:e,quantity:r}]),addToWishlist:(e,t,r)=>q(e,t,r),isProductLoading:r,isCustomerProductListLoading:!Z.isInitialized}),a.createElement(b,{product:t}))))};j.getTemplateName=()=>"product-detail",j.shouldGetProps=({previousLocation:e,location:t})=>{const r=new URLSearchParams((null==e?void 0:e.search)||""),n=new URLSearchParams(t.search);return(null==e?void 0:e.pathname)!==t.pathname||r.get("pid")!==n.get("pid")},j.getProps=function(){var e=(0,o.Z)((function*({res:e,params:t,location:r,api:n}){var o,a,l;const{productId:i}=t;let c,d;const u=new URLSearchParams(r.search);var s;if(d=yield n.shopperProducts.getProduct({parameters:{id:u.get("pid")||i,allImages:!0}}),null!==(o=d)&&void 0!==o&&o.primaryCategoryId&&(c=yield n.shopperProducts.getCategory({parameters:{id:null===(s=d)||void 0===s?void 0:s.primaryCategoryId,levels:1}})),e&&e.set("Cache-Control",`max-age=${O.RU}`),"string"==typeof(null===(a=d)||void 0===a?void 0:a.type))throw new P.HTTPNotFound(d.detail);if("string"==typeof(null===(l=c)||void 0===l?void 0:l.type))throw new P.HTTPNotFound(c.detail);return{category:c,product:d}}));return function(t){return e.apply(this,arguments)}}(),j.propTypes={category:i().object,product:i().object,isLoading:i().bool,match:i().object};const C=j}}]);